type: object
$schema: "http://json-schema.org/draft-07/hyper-schema#"
$ref: "#/$defs/email-identity"
$defs:
  email:
    type: object
    properties:
      email:
        $ref: ..\..\..\shared\schemas\StringTemplate.yaml

  email-identity:
    type: object
    title: email identity
    properties:
      x-identifier: 
        enum:
          - email
      x-verification-method:
        enum:
          - otp
          - link
          - auto-bind
      properties:
        $ref: "#/$defs/email"

      

       

