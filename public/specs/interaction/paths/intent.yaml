summary: Communications Interaction
post:
  summary: Submit interaction details as intent
  operationId: SubmitInteractionIntention
  description: Submit interaction form as intent
  requestBody:
    content:
      application/json:
        schema:
          $ref: ..\components\schemas\SignUpSchema.yaml  
        examples:
          email-channel:
            value:
              channel: email
              identity:
                email: email@mail.com
                lookup_token: aToken
              newsletter: true
              deals: true
          phone-channel:
            value:
              channel: sms
              identity:
                phonenumber: 543332123
                lookup_token: aToken               
              newsletter: true
    links:
      ConfirmInteraction:
        operationId: ConfirmInteraction
        parameters:
          interactionId: $response.body#/interactionId
        description: Confirm Interaction State.

  responses:
    '201':
      description: Customer intent submitted successfully.
      content:
        application/json:
          schema:
            $ref: ..\components\schemas\form.yaml
          examples:
            signup-interaction-ok:
              summary: Customer intent submitted successfully.
              value:
                properties:
                  template: signup
                  state: verified
                  interactionId: 7800232
                links:
                  - rel: confirm
                    href: /{interactionId}/confirm/
                    type: application/json
                    method: POST

      links:
        InteractionLink:
          operationId: ConfirmInteraction
          parameters:
            interactionId: $response.body#/interactionId
          description: Confirm interaction.
    '400':
      $ref: ..\..\shared\errors\bad_request.yaml  
    '403':
      $ref: ..\..\shared\errors\forbidden.yaml
    '503':
      $ref: ..\..\shared\errors\service_unavailable.yaml
